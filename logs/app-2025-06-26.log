2025-06-26 00:47:00 [restartedMain] INFO  com.rony.erpsoft.ErpsoftApplication - Starting ErpsoftApplication using Java 21.0.7 with PID 87830 (/home/rony/Rony/personal/Project/ERPSoft/erpsoft/target/classes started by rony in /home/rony/Rony/personal/Project/ERPSoft/erpsoft)
2025-06-26 00:47:00 [restartedMain] DEBUG com.rony.erpsoft.ErpsoftApplication - Running with Spring Boot v3.4.7, Spring v6.2.8
2025-06-26 00:47:00 [restartedMain] INFO  com.rony.erpsoft.ErpsoftApplication - No active profile set, falling back to 1 default profile: "default"
2025-06-26 00:47:03 [restartedMain] DEBUG c.r.e.c.s.TokenValidationFilter - Filter 'tokenValidationFilter' configured for use
2025-06-26 00:47:03 [restartedMain] DEBUG c.r.e.c.s.SessionValidationFilter - Filter 'sessionValidationFilter' configured for use
2025-06-26 00:47:08 [restartedMain] INFO  com.rony.erpsoft.ErpsoftApplication - Started ErpsoftApplication in 8.534 seconds (process running for 9.403)
2025-06-26 00:47:08 [restartedMain] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2025-06-26 00:47:08 [restartedMain] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT ft.feature_id, ft.feature_name, ft.feature_code,ft.module, ft.controller,ft.action,ft.component,   ft.parent_id,   ft.type,  ft.url, ft.is_menu,  ft.need_permission,  ft.sort_order,  ft.active ,  tmp.roles  FROM feature ft   join (select rf.feature_id,group_concat(sr.role_name,'##$$@@$$##')  roles  from role_feature rf   join system_role sr on rf.role_id=sr.role_id  where sr.active=true  GROUP BY rf.feature_id  ) as tmp on ft.feature_id=tmp.feature_id ]
2025-06-26 00:47:18 [http-nio-8000-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [ SELECT id, pass_exp, pass_exp_alert, sess_timeout, default_pkey  FROM app_settings   where id=1 and active=1 ]
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT ui.user_id, ui.first_name, ui.last_name, ui.user_code, ui.usremail, ui.lan_id, ui.phone, ui.address, ui.country_id, ui.active, sr.role_name, sr.role_code, sr.role_id   FROM user_info ui   join user_role ur on ui.user_id = ur.user_id  join system_role sr on sr.role_id=ur.role_id and sr.active=true  where ui.lan_id=? and ui.usrpkey=? and ui.active=true  ]
2025-06-26 00:47:21 [http-nio-8000-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [1112], value class [java.lang.String], SQL type unknown
2025-06-26 00:47:21 [http-nio-8000-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [4a6fa4173a49a42da4653bd24adc242e1e22197db0792fca47ce61ead9ffd888eb6418074ec2faddf26f7c3e0d5a44cc2d2367aec6a416e1ef54b1921c5d94c0], value class [java.lang.String], SQL type unknown
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'user_id' to property 'user_id' of type 'long'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'first_name' to property 'first_name' of type 'java.lang.String'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'last_name' to property 'last_name' of type 'java.lang.String'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'user_code' to property 'user_code' of type 'java.lang.String'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'usremail' to property 'usremail' of type 'java.lang.String'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'lan_id' to property 'lan_id' of type 'java.lang.String'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'phone' to property 'phone' of type 'java.lang.String'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'address' to property 'address' of type 'java.lang.String'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'country_id' to property 'country_id' of type 'int'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'active' to property 'active' of type 'boolean'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'role_name' to property 'role_name' of type 'java.lang.String'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'role_code' to property 'role_code' of type 'java.lang.String'
2025-06-26 00:47:21 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'role_id' to property 'role_id' of type 'long'
2025-06-26 00:47:24 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL update and returning generated keys
2025-06-26 00:47:24 [http-nio-8000-exec-2] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ INSERT INTO user_logins(  login_id, user_id, used_email, used_pwd, terminal, agent, session_start, active )  VALUES (  ?, ?, ?, ?, ?, ?, now(), 1) ]
2025-06-26 00:47:24 [http-nio-8000-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [0], value class [java.lang.Long], SQL type -5
2025-06-26 00:47:24 [http-nio-8000-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 2, parameter value [2], value class [java.lang.Long], SQL type -5
2025-06-26 00:47:24 [http-nio-8000-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 3, parameter value [rony@gmail.com], value class [java.lang.String], SQL type 12
2025-06-26 00:47:24 [http-nio-8000-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 4, parameter value [YzQyNGJiNDI3NTQyNjU1MWIzMDcxMDA0N2Q4MDQxNzc6OmYyODFiNDc4NTM1NzNkYjhhODhmZmMxMjkzZWQzMmQwOjo0ZmJxZ045VjBMKzNYYlE0aVpGQm9nPT0=], value class [java.lang.String], SQL type 12
2025-06-26 00:47:24 [http-nio-8000-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 5, parameter value [F-; R-; 0:0:0:0:0:0:0:1], value class [java.lang.String], SQL type 12
2025-06-26 00:47:24 [http-nio-8000-exec-2] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 6, parameter value [Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36], value class [java.lang.String], SQL type 12
2025-06-26 00:47:25 [http-nio-8000-exec-2] TRACE o.s.jdbc.core.JdbcTemplate - SQL update affected 1 rows and returned 1 keys
2025-06-26 00:47:25 [http-nio-8000-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2025-06-26 00:47:25 [http-nio-8000-exec-8] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT a.pass_exp, a.pass_exp_alert, ud.cnt_day, ud.is_default_password_change  FROM app_settings a  JOIN(  SELECT 1 app_id, DATEDIFF(now(), pkey_last_change) cnt_day, is_default_password_change FROM user_info WHERE user_id=?  ) as ud on a.id=ud.app_id  WHERE id=1 ]
2025-06-26 00:47:25 [http-nio-8000-exec-8] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Long], SQL type unknown
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT ft.feature_id, ft.feature_name, ft.feature_code, ft.note, ft.module, ft.controller, ft.action, ft.component,   ft.parent_id,  ft.type, ft.url, ft.is_menu, ft.need_permission, ft.sort_order, ft.active ,rf.is_home   FROM feature ft   join role_feature rf  on ft.feature_id =rf.feature_id  join system_role sr on rf.role_id=sr.role_id  where ft.active=true and  sr.active=true and sr.role_name=?  order by ft.sort_order asc, ft.module asc, ft.feature_name asc ]
2025-06-26 00:47:25 [http-nio-8000-exec-5] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [Admin], value class [java.lang.String], SQL type unknown
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'feature_id' to property 'feature_id' of type 'java.lang.Long'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'feature_name' to property 'feature_name' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'feature_code' to property 'feature_code' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'note' to property 'note' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'module' to property 'module' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'controller' to property 'controller' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'action' to property 'action' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'component' to property 'component' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'parent_id' to property 'parent_id' of type 'java.lang.Long'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'type' to property 'type' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'url' to property 'url' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'is_menu' to property 'is_menu' of type 'boolean'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'need_permission' to property 'need_permission' of type 'boolean'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'sort_order' to property 'sort_order' of type 'int'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'active' to property 'active' of type 'boolean'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'is_home' to property 'is_home' of type 'boolean'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT ft.feature_id, ft.feature_name, ft.feature_code, ft.note, ft.module, ft.controller, ft.action, ft.component,   ft.parent_id,  ft.type, ft.url, ft.is_menu, ft.need_permission, ft.sort_order, ft.active ,rf.is_home   FROM feature ft   join role_feature rf  on ft.feature_id =rf.feature_id  join system_role sr on rf.role_id=sr.role_id  where ft.active=true and  sr.active=true and sr.role_name=?  order by ft.sort_order asc, ft.module asc, ft.feature_name asc ]
2025-06-26 00:47:25 [http-nio-8000-exec-5] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [Admin], value class [java.lang.String], SQL type unknown
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'feature_id' to property 'feature_id' of type 'java.lang.Long'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'feature_name' to property 'feature_name' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'feature_code' to property 'feature_code' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'note' to property 'note' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'module' to property 'module' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'controller' to property 'controller' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'action' to property 'action' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'component' to property 'component' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'parent_id' to property 'parent_id' of type 'java.lang.Long'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'type' to property 'type' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'url' to property 'url' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'is_menu' to property 'is_menu' of type 'boolean'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'need_permission' to property 'need_permission' of type 'boolean'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'sort_order' to property 'sort_order' of type 'int'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'active' to property 'active' of type 'boolean'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'is_home' to property 'is_home' of type 'boolean'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL query
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ SELECT ft.feature_id, ft.feature_name, ft.feature_code, ft.note, ft.module, ft.controller, ft.action, ft.component, ft.parent_id, pf.feature_name parent_name, ft.type, ft.url, ft.is_menu, ft.need_permission, ft.sort_order, ft.active  FROM feature ft  left join feature pf on (ft.parent_id=pf.feature_id)  where ft.feature_id=? ]
2025-06-26 00:47:25 [http-nio-8000-exec-5] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [23], value class [java.lang.Long], SQL type unknown
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'feature_id' to property 'feature_id' of type 'java.lang.Long'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'feature_name' to property 'feature_name' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'feature_code' to property 'feature_code' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'note' to property 'note' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'module' to property 'module' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'controller' to property 'controller' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'action' to property 'action' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'component' to property 'component' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'parent_id' to property 'parent_id' of type 'java.lang.Long'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'parent_name' to property 'parent_name' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'type' to property 'type' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'url' to property 'url' of type 'java.lang.String'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'is_menu' to property 'is_menu' of type 'boolean'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'need_permission' to property 'need_permission' of type 'boolean'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'sort_order' to property 'sort_order' of type 'int'
2025-06-26 00:47:25 [http-nio-8000-exec-5] DEBUG o.s.jdbc.core.BeanPropertyRowMapper - Mapping column 'active' to property 'active' of type 'boolean'
2025-06-26 00:47:34 [http-nio-8000-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL update
2025-06-26 00:47:34 [http-nio-8000-exec-1] DEBUG o.s.jdbc.core.JdbcTemplate - Executing prepared SQL statement [ UPDATE user_logins set  session_end=now(), active=0  where user_id=? and active=1 ]
2025-06-26 00:47:34 [http-nio-8000-exec-1] TRACE o.s.jdbc.core.StatementCreatorUtils - Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Long], SQL type unknown
2025-06-26 00:47:34 [http-nio-8000-exec-1] TRACE o.s.jdbc.core.JdbcTemplate - SQL update affected 1 rows
2025-06-26 00:47:34 [http-nio-8000-exec-9] DEBUG o.s.jdbc.core.JdbcTemplate - Executing SQL query [ SELECT id, pass_exp, pass_exp_alert, sess_timeout, default_pkey  FROM app_settings   where id=1 and active=1 ]
